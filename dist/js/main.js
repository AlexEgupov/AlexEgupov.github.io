(()=>{"use strict";(()=>{const e=document.querySelector(".benefits-arrows"),t=document.querySelectorAll(".benefits__item"),o=document.querySelector(".services-arrows"),n=document.querySelectorAll(".service-block"),r=(e,t)=>{window.addEventListener("resize",(()=>{document.body.clientWidth<576?(e.forEach((e=>{e.classList.remove(t)})),e[0].classList.add(t)):document.body.clientWidth>576&&(6===e.length?(e.forEach((e=>{e.classList.remove(t)})),e[0].classList.add(t),e[1].classList.add(t),e[2].classList.add(t)):4===e.length&&(e.forEach((e=>{e.classList.remove(t)})),e[0].classList.add(t),e[1].classList.add(t)))}))},l=(e,t,o,n,r)=>{let l=0;e.addEventListener("click",(e=>{var a;e.preventDefault(),(e.target.matches(o)||e.target.matches(t))&&(document.body.clientWidth>576?n.forEach((e=>{e.classList.toggle(r)})):document.body.clientWidth<576&&(a=r,n[l].classList.remove(a),e.target.matches(o)?l++:e.target.matches(t)&&l--,l>=n.length&&(l=0),l<0&&(l=n.length-1),((e,t,o)=>{e[t].classList.add(o)})(n,l,r)))}))};r(t,"benefits__item--active"),r(n,"service-block--active"),l(e,".arrow-left",".arrow-right",t,"benefits__item--active"),l(o,".arrow-left",".arrow-right",n,"service-block--active")})(),(()=>{const e=document.getElementById("services"),t=document.querySelector(".overlay"),o=document.querySelector(".services-modal"),n=document.getElementById("header"),r=document.querySelector(".header-modal"),l=document.querySelector(".img-modal"),a=document.getElementById("documents"),c=(e,o,n)=>{n.addEventListener("click",(n=>{n.preventDefault(),n.target.matches(e)&&(t.style.display="block",o.style.display="block")}))},s=(e,o)=>{document.querySelector(e).addEventListener("click",(()=>{t.style.display="none",o.style.display="none"}))};document.querySelectorAll(".document-overlay").forEach((e=>{e.style.display="none"})),c(".btn-header",r,n),s(".header-modal__close",r),c(".btn-sm",o,e),s(".services-modal__close",o),c(".img-responsive",l,a),s(".img-modal__close",l)})(),(e=>{const t=document.querySelectorAll(".days"),o=document.querySelectorAll(".hours"),n=document.querySelectorAll(".minutes"),r=document.querySelectorAll(".seconds"),l=document.querySelectorAll(".daysWord"),a=document.querySelectorAll(".hoursWord"),c=document.querySelectorAll(".minutesWord"),s=document.querySelectorAll(".secondsWord");let d;function i(e){return e<10?"0"+e:e}const u=(e,t)=>{const o=(e=Math.abs(e)%100)%10;return e>10&e<20?t[2]:o>1&&o<5?t[1]:1===o?t[0]:t[2]};d=setInterval((()=>{let e=(()=>{let e=(new Date("16 jule 2022").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,days:Math.floor(e/60/60/24),hours:Math.floor(e/60/60%24),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();e.timeRemaining>0?(t.forEach((t=>t.textContent=i(e.days))),o.forEach((t=>t.textContent=i(e.hours))),n.forEach((t=>t.textContent=i(e.minutes))),r.forEach((t=>t.textContent=i(e.seconds)))):(t.forEach((e=>e.textContent="00")),o.forEach((e=>e.textContent="00")),n.forEach((e=>e.textContent="00")),r.forEach((e=>e.textContent="00")),clearInterval(d)),l.forEach((t=>t.textContent=u(e.days,["День:","Дня:","Дней:"]))),a.forEach((t=>t.textContent=u(e.hours,["Час:","Часа:","Часов:"]))),c.forEach((t=>t.textContent=u(e.minutes,["Минута:","Минуты:","Минут:"]))),s.forEach((t=>t.textContent=u(e.seconds,["Секунда:","Секунды:","Секунд:"])))}),1e3)})(),(e=>{const t=document.querySelectorAll(".form-horizontal"),o=document.querySelector(".header-form"),n=document.querySelector(".services-form"),r=document.createElement("div");let l=document.querySelectorAll(".nameInput"),a=document.querySelectorAll(".phoneInput");a.forEach((e=>{e.addEventListener("input",(()=>{let t=e.value.replace(/[^0-9\+]/gi,"");t=t.replace(/\++/g,"+"),e.value=t}))})),l.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value.replace(/[^а-яёa-z\s+]/gi,"");t=t.replace(/^\s+|\s+$/g,""),t=t.replace(/\s+/g," "),e.target.value=t,""!=t&&(e.target.value=e.target.value.replace(/( |^)[а-яёa-z]/gi,(e=>e.toUpperCase())))}))}));const c=(t,o,n)=>{t.addEventListener("submit",(l=>{l.preventDefault(),((t,o,n)=>{let l={name:o.value,phone:n.value,count:null!==e?e.value:0};r.style.cssText="width: 50px; height: 50px; margin: auto;\n        background-color: #5d5d5d;\n        animation:  infinite ease-in-out;";let a=r.animate([{transform:"perspective(120px) rotateX(0deg) rotateY(0deg)"},{transform:"perspective(120px) rotateX(-180.1deg) rotateY(0deg)"},{transform:"perspective(120px) rotateX(-180deg) rotateY(-179.9deg)"}],{duration:1e3,iterations:1/0});t.append(r),""!==o.value&&""!==n.value?((e=>fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json"}}).then((e=>e.json())))(l).then((e=>{a.cancel(),r.style.cssText="color: #5d5d5d",r.textContent="Спасибо! Наш менеджер с вами свяжется!",setTimeout((()=>{r.textContent=""}),3e3)})),t.reset()):alert("Нельзя отправить пустую форму!")})(t,o,n)}))};c(t[0],l[0],a[0]),c(t[1],l[1],a[1]),c(o,l[2],a[2]),c(n,l[3],a[3])})(document.getElementById("calc-total")),(()=>{const e=document.querySelector("html"),t=document.getElementById("header"),o=document.querySelector(".smooth-scroll");o.style.display="none",o.style.cursor="pointer",window.addEventListener("scroll",(()=>{e.scrollTop>860?o.style.display="block":o.style.display="none"})),o.addEventListener("click",(e=>{e.preventDefault(),t.scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{try{const e=document.getElementById("calc-type"),t=document.getElementById("calc-type-material"),o=document.getElementById("calc-input"),n=document.getElementById("calc-total");let r=0;e.setAttribute("required",!0),t.setAttribute("required",!0);const l=()=>{r=o.value*+e.options[e.selectedIndex].value*+t.options[t.selectedIndex].value,n.value=r,(({timing:e,draw:t,duration:o})=>{let n=performance.now();requestAnimationFrame((function r(l){let a=(l-n)/o;a>1&&(a=1);let c=e(a);t(c),a<1&&requestAnimationFrame(r)}))})({duration:500,timing:e=>e,draw(e){n.value=Math.round(r*e)}})},a=e=>{e.addEventListener("change",(()=>{!isNaN(+e.options[e.selectedIndex].value)&&o.value>0&&l()}))};o.addEventListener("input",(()=>{o.value=o.value.replace(/\D/g,""),isNaN(+e.options[e.selectedIndex].value)&&isNaN(+t.options[t.selectedIndex].value)||l()})),a(e),a(t)}catch(e){console.log(e.message)}})()})();