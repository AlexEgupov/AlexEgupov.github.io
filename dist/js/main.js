(()=>{"use strict";(()=>{const e=document.querySelector(".benefits-arrows"),t=document.querySelectorAll(".benefits__item"),l=document.querySelector(".services-arrows"),a=document.querySelectorAll(".service-block"),o=(e,t)=>{window.addEventListener("resize",(()=>{document.body.clientWidth<576?(e.forEach((e=>{e.classList.remove(t)})),e[0].classList.add(t)):document.body.clientWidth>576&&(6===e.length?(e.forEach((e=>{e.classList.remove(t)})),e[0].classList.add(t),e[1].classList.add(t),e[2].classList.add(t)):4===e.length&&(e.forEach((e=>{e.classList.remove(t)})),e[0].classList.add(t),e[1].classList.add(t)))}))},s=(e,t,l,a,o)=>{let s=0;e.addEventListener("click",(e=>{var c;e.preventDefault(),(e.target.matches(l)||e.target.matches(t))&&(document.body.clientWidth>576?a.forEach((e=>{e.classList.toggle(o)})):document.body.clientWidth<576&&(c=o,a[s].classList.remove(c),e.target.matches(l)?s++:e.target.matches(t)&&s--,s>=a.length&&(s=0),s<0&&(s=a.length-1),((e,t,l)=>{e[t].classList.add(l)})(a,s,o)))}))};o(t,"benefits__item--active"),o(a,"service-block--active"),s(e,".arrow-left",".arrow-right",t,"benefits__item--active"),s(l,".arrow-left",".arrow-right",a,"service-block--active")})(),(()=>{const e=document.getElementById("services"),t=document.querySelector(".overlay"),l=document.querySelector(".services-modal"),a=document.getElementById("header"),o=document.querySelector(".header-modal"),s=document.querySelector(".img-modal"),c=document.getElementById("documents"),n=(e,l,a)=>{a.addEventListener("click",(a=>{a.preventDefault(),a.target.matches(e)&&(t.style.display="block",l.style.display="block")}))},r=(e,l)=>{document.querySelector(e).addEventListener("click",(()=>{t.style.display="none",l.style.display="none"}))};document.querySelectorAll(".document-overlay").forEach((e=>{e.style.display="none"})),n(".btn-header",o,a),r(".header-modal__close",o),n(".btn-sm",l,e),r(".services-modal__close",l),n(".img-responsive",s,c),r(".img-modal__close",s)})(),(()=>{const e=document.querySelectorAll(".form-horizontal");let t=document.querySelectorAll(".nameInput"),l=document.querySelectorAll(".phoneInput");l.forEach((e=>{e.addEventListener("input",(()=>{let t=e.value.replace(/[^0-9\+]/gi,"");t=t.replace(/\++/g,"+"),e.value=t}))})),t.forEach((e=>{e.addEventListener("blur",(e=>{let t=e.target.value.replace(/[^а-яёa-z\s+]/gi,"");t=t.replace(/^\s+|\s+$/g,""),t=t.replace(/\s+/g," "),e.target.value=t,""!=t&&(e.target.value=e.target.value.replace(/( |^)[а-яёa-z]/gi,(e=>e.toUpperCase())))}))}));const a=(e,t,l)=>{e.addEventListener("submit",(a=>{a.preventDefault(),((e,t,l)=>{let a={name:t.value,phone:l.value};""!==t.value&&""!==l.value?((e=>{fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json()))})(a),e.reset()):alert("Нельзя отправить пустую форму!")})(e,t,l)}))};a(e[0],t[0],l[0]),a(e[1],t[1],l[1])})(),(()=>{const e=document.querySelector("html"),t=document.getElementById("header"),l=document.querySelector(".smooth-scroll");l.style.display="none",l.style.cursor="pointer",window.addEventListener("scroll",(()=>{e.scrollTop>860?l.style.display="block":l.style.display="none"})),l.addEventListener("click",(e=>{e.preventDefault(),t.scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{const e=document.getElementById("calc-type"),t=document.getElementById("calc-type-material"),l=document.getElementById("calc-input"),a=document.getElementById("calc-total");let o=0;const s=()=>{o=l.value*+e.options[e.selectedIndex].value*+t.options[t.selectedIndex].value,a.value=o,(({timing:e,draw:t,duration:l})=>{let a=performance.now();requestAnimationFrame((function o(s){let c=(s-a)/l;c>1&&(c=1);let n=e(c);t(n),c<1&&requestAnimationFrame(o)}))})({duration:500,timing:e=>e,draw(e){a.value=Math.round(o*e)}})},c=e=>{e.addEventListener("change",(()=>{!isNaN(+e.options[e.selectedIndex].value)&&l.value>0&&s()}))};e.setAttribute("required",!0),t.setAttribute("required",!0),l.addEventListener("input",(()=>{l.value=l.value.replace(/\D/g,""),isNaN(+e.options[e.selectedIndex].value)&&isNaN(+t.options[t.selectedIndex].value)||s()})),c(e),c(t)})()})();